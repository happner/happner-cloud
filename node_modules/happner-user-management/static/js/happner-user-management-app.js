'use strict';

var happner_user_management = angular.module('happnerUserManagement', [  
  'happnerAngular'
]);

happner_user_management.controller('happnerUserManagementCtl', ['$scope', 'happnerAngularClient', function($scope, happnerAngularClient) {

    $scope.authenticated = false;
    $scope.dburl = "127.0.0.1";

    $scope.dbport = window.location.port.toString();
    $scope.dbsecret = "mesh";

    $scope.authenticate = function(){

    	happnerAngularClient.authenticate($scope.dburl, $scope.dbport, null, $scope.dbsecret, function(e, client){

            console.log(e, client);

        	 $scope.meshAPIClient = client;
             $scope.authenticated = true;
             $scope.$apply();
        });
    }   
    
}]);

