happner_user_management.controller('network', 
	['$scope', 
	'$modal',
	'$rootScope',
	'happnerAngularClient', 
	function($scope, $modal, $rootScope, happnerAngularClient) {
			
		$scope.dataEvents = [];

		console.log('happnerAngularClient:::',happnerAngularClient);

		$rootScope.$watch('authenticated', function(){

			if ($rootScope.authenticated){

				console.log('rscope changed auth ok', happnerAngularClient, $rootScope.authenticated);

				happnerAngularClient.networkManagerEvent.off('NETWORK-EVT');

				happnerAngularClient.networkManagerEvent.on('NETWORK-EVT', function(data){

					console.log('NET EVT', data);

					$scope.dataEvents.splice(0, 0, data);
					$scope.$apply();
				});
			}
		});
	}]
);
